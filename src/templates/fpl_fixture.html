"% include 'header.html' %"

<main class="pt-3 container">

    <div class="row" v-cloak id="fixture-main">
        <div class="col-12 mb-3">
            <div class="card card-field border-dark bg-squad-card text-white">
                <h5 class="card-header border-complement text-center scenario_title">FPL Fixture</h5>
                <div class="scenario_detail">
                    A detailed table of all FPL Gameweeks
                </div>
                <div class="card-body pl-0 pr-0">
                    <div>
                        <table class="table table-striped table-sm text-small text-white table-responsive" id="main_fixture" v-if="is_fixture_ready && is_main_ready">
                            <thead>
                                <tr>
                                    <th>Team</th>
                                    <th v-for="gw in gameweeks" :id="gw.this_gw ? 'active_gw' : 'col_gw' + gw.no" :class="{'active_gw_col': gw.this_gw}">{{ gw.text }}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="(t,id) in teams">
                                    <td :data-order="id">{{ t.name }}</td>
                                    <td v-for="gw in gameweeks" :class="{'active_gw_col': gw.this_gw}" :data-order="getSum(rivals[id+1][gw.no].map(j=>j.fdr))" :style="{'background-color': get_color(rivals[id+1][gw.no]) }">{{ rivals[id+1][gw.no].map(j => j.rival).join(' + ') }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- <div class="row" v-cloak>
        <div class="col-12 mb-3">
            <div class="card border-dark bg-squad-card text-white qa">
                <div class="card-body text-left">
                    <h5>Q/A</h5>
                    <b>Q?</b>
                    <p class="answer">A</p>
                </div>
                <div class="card-footer text-white disclaimer">
                    The information contained on this website is for general information purposes only. Any reliance you place on this information is strictly at your own risk.
                </div>
            </div>
        </div>
    </div> -->

</main>

<div class="modal" tabindex="-1" role="dialog" id="waitModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Fetching data...</h5>
            </div>
            <div class="modal-body">
                <div class="p-2 wait-modal">
                    Fetching data and updating visuals. Please wait... <br/>
                    <img class="mx-auto d-block" src="static/images/loading.svg">
                </div>
            </div>
        </div>
    </div>
</div>

"% with scripts=["main", "sampling_utils", "fpl_fixture"] %" "% include 'footer.html' %" "% endwith %"